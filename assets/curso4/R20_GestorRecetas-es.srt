1
00:00:01,480 --> 00:00:05,399
En este vídeo veremos las posibilidades

2
00:00:03,399 --> 00:00:07,680
del gestor de recetas incluido en la

3
00:00:05,399 --> 00:00:08,920
aplicación. Para ello nos dirigiremos al

4
00:00:07,680 --> 00:00:11,599
panel de

5
00:00:08,920 --> 00:00:14,280
recetas. Este panel muestra los elementos

6
00:00:11,599 --> 00:00:16,279
clásicos de un gestor de recetas: una

7
00:00:14,280 --> 00:00:18,480
parte central donde se muestra el

8
00:00:16,279 --> 00:00:20,279
listado de las recetas disponibles, una

9
00:00:18,480 --> 00:00:23,119
parte lateral con los controles para

10
00:00:20,279 --> 00:00:27,119
interactuar con el gestor de recetas, una

11
00:00:23,119 --> 00:00:28,599
parte superior para buscar recetas y una

12
00:00:27,119 --> 00:00:30,480
parte inferior donde nos muestra una

13
00:00:28,599 --> 00:00:32,759
información genérica de la receta

14
00:00:30,480 --> 00:00:35,559
con la que estamos trabajando, por

15
00:00:32,759 --> 00:00:38,040
ejemplo, cuál ha sido la última cargada,

16
00:00:35,559 --> 00:00:40,079
su fecha de creación, si se ha leído

17
00:00:38,040 --> 00:00:42,520
correctamente. 

18
00:00:40,079 --> 00:00:45,320
¿Qué almacena cada una de

19
00:00:42,520 --> 00:00:48,360
estas recetas? bueno, por defecto almacena

20
00:00:45,320 --> 00:00:50,440
todo parámetro incluido en la aplicación.

21
00:00:48,360 --> 00:00:52,079
Sin embargo, el contenido de una receta

22
00:00:50,440 --> 00:00:53,520
se puede modificar por código

23
00:00:52,079 --> 00:00:55,760
dependiendo de las necesidades de la

24
00:00:53,520 --> 00:00:59,039
aplicación.

25
00:00:55,760 --> 00:01:00,680
Las recetas se guardan con un nombre

26
00:00:59,039 --> 00:01:04,439
de usuario,

27
00:01:00,680 --> 00:01:07,320
nombre que el usuario le dé de forma

28
00:01:04,439 --> 00:01:10,080
alfabética. Como pueden haber hasta 1000

29
00:01:07,320 --> 00:01:11,960
recetas y puede ser complicada la

30
00:01:10,080 --> 00:01:14,720
búsqueda de una receta en concreto, sobre

31
00:01:11,960 --> 00:01:16,799
todo si se tienen muchas, el buscador de

32
00:01:14,720 --> 00:01:19,560
recetas incluye la posibilidad de buscar

33
00:01:16,799 --> 00:01:21,840
una receta solo con solo indicando parte

34
00:01:19,560 --> 00:01:24,240
del nombre de esta receta. Por ejemplo, si

35
00:01:21,840 --> 00:01:28,000
sabemos que nuestra receta empieza con

36
00:01:24,240 --> 00:01:29,680
"Receta G" pero no sabemos nada más,

37
00:01:28,000 --> 00:01:32,680
podemos utilizar el buscador para que

38
00:01:29,680 --> 00:01:36,159
nos diga cuántas recetas empiezan

39
00:01:32,680 --> 00:01:38,479
de esta manera. Damos aquí, exactamente

40
00:01:36,159 --> 00:01:41,720
nos aparecen cinco. Nos indica que ha

41
00:01:38,479 --> 00:01:43,640
encontrado cinco recetas de un total de

42
00:01:41,720 --> 00:01:46,000
1000 posibles

43
00:01:43,640 --> 00:01:47,439
recetas. A partir de aquí ya podemos

44
00:01:46,000 --> 00:01:50,640
seleccionar la que más nos interesa. Por

45
00:01:47,439 --> 00:01:52,600
ejemplo, la cuatro, y darle a

46
00:01:50,640 --> 00:01:55,119
cargar. Siempre nos va a pedir

47
00:01:52,600 --> 00:01:57,640
confirmación para cualquier

48
00:01:55,119 --> 00:02:00,399
operación. Y ya tendríamos cargada la

49
00:01:57,640 --> 00:02:01,799
receta de giro síncrono 4. Nos ha

50
00:02:00,399 --> 00:02:03,119
indicado también el tiempo de carga, que

51
00:02:01,799 --> 00:02:05,399
son 38 milisegundos 

52
00:02:03,119 --> 00:02:08,399
¿Podemos crear otra receta?

53
00:02:05,399 --> 00:02:10,720
Sí, claro, podemos venir aquí, crear una

54
00:02:08,399 --> 00:02:10,720
receta

55
00:02:11,120 --> 00:02:17,440
nueva. Siempre nos pide

56
00:02:13,720 --> 00:02:19,280
confirmación. Y nos la acaba de crear. Se

57
00:02:17,440 --> 00:02:21,840
ha refrescado el listado de recetas

58
00:02:19,280 --> 00:02:23,920
disponibles y nos muestra aquí

59
00:02:21,840 --> 00:02:26,640
que tenemos 21 recetas 

60
00:02:23,920 --> 00:02:29,400
creadas. ¿Para encontrarla? pues lo que 

61
00:02:26,640 --> 00:02:31,760
hemos comentado antes: si ya sabemos

62
00:02:29,400 --> 00:02:34,480
el nombre completo, la podemos buscar y

63
00:02:31,760 --> 00:02:35,720
solo nos aparecerá una. Y si no lo

64
00:02:34,480 --> 00:02:39,319
conocemos al

65
00:02:35,720 --> 00:02:41,159
100%, por ejemplo, solamente una parte,

66
00:02:39,319 --> 00:02:42,319
pues también, como solo tenemos una

67
00:02:41,159 --> 00:02:45,319
receta que empieza de esta manera, 

68
00:02:42,319 --> 00:02:47,720
siempre nos muestra una. ¿Dónde se guardan

69
00:02:45,319 --> 00:02:51,920
estas recetas? Estas recetas se guardan

70
00:02:47,720 --> 00:02:54,959
en la memoria del controlador, en la

71
00:02:51,920 --> 00:02:57,800
tarjeta de memoria del controlador. Para

72
00:02:54,959 --> 00:03:01,840
acceder a estas recetas, hemos de hacer

73
00:02:57,800 --> 00:03:01,840
doble clic en el icono LMC_PacDrive,

74
00:03:02,120 --> 00:03:09,319
nos vamos a la sección

75
00:03:04,120 --> 00:03:10,720
Files, refrescamos este lado y todo el

76
00:03:09,319 --> 00:03:11,920
sistema de recetas se encuentra guardado

77
00:03:10,720 --> 00:03:15,959
aquí en

78
00:03:11,920 --> 00:03:19,440
rcp. Aquí las tenemos. Como vemos, cada

79
00:03:15,959 --> 00:03:21,239
receta, y recordemos, cada receta incluye

80
00:03:19,440 --> 00:03:25,040
todos los parámetros de la

81
00:03:21,239 --> 00:03:28,159
aplicación, solo ocupa 7k. La memoria de

82
00:03:25,040 --> 00:03:30,360
este controlador son 128 megabytes, por tanto,

83
00:03:28,159 --> 00:03:32,879
es virtualmente imposible

84
00:03:30,360 --> 00:03:34,760
alcanzar, con 1000 recetas, alcanzar el

85
00:03:32,879 --> 00:03:37,000
tope de la memoria del

86
00:03:34,760 --> 00:03:39,120
controlador. Teóricamente, deberíamos

87
00:03:37,000 --> 00:03:41,920
tener que grabar 128000

88
00:03:39,120 --> 00:03:45,319
recetas. Esto es bastante imposible y

89
00:03:41,920 --> 00:03:46,720
nadie trabaja con 1000 recetas. Cada

90
00:03:45,319 --> 00:03:48,560
una de las recetas está grabada en

91
00:03:46,720 --> 00:03:51,040
formato binario, no es posible ver su

92
00:03:48,560 --> 00:03:53,000
contenido. Y si observamos el nombre de

93
00:03:51,040 --> 00:03:57,319
la receta guardado, tampoco nos da

94
00:03:53,000 --> 00:03:58,799
indicación, por temas de seguridad, del

95
00:03:57,319 --> 00:04:02,959
nombre de la receta que hemos utilizado

96
00:03:58,799 --> 00:04:02,959
en el estado de recetas.

97
00:04:03,120 --> 00:04:08,879
La relación entre el nombre que el

98
00:04:05,680 --> 00:04:11,200
usuario le ha dado a la receta y el nombre que

99
00:04:08,879 --> 00:04:13,640
el controlador le ha dado al fichero se

100
00:04:11,200 --> 00:04:15,040
guarda en este otro fichero, que también

101
00:04:13,640 --> 00:04:18,079
es en formato binario y no podemos

102
00:04:15,040 --> 00:04:20,680
acceder a él. Si por lo que fuera este fichero 

103
00:04:18,079 --> 00:04:20,680
se corrompiera, no tendríamos acceso a 

104
00:04:21,360 --> 00:04:26,199
ninguna de las recetas creadas. Por tanto, se ha

105
00:04:24,360 --> 00:04:29,720
añadido la opción de reconstruir.

106
00:04:26,199 --> 00:04:32,759
Reconstruir lo que hace es que el sistema se

107
00:04:29,720 --> 00:04:35,840
dedica a abrir fichero a fichero y a

108
00:04:32,759 --> 00:04:37,880
buscar el nombre codificado del que el

109
00:04:35,840 --> 00:04:40,000
usuario le dado a esta receta, y va

110
00:04:37,880 --> 00:04:43,800
creando una nueva tabla de

111
00:04:40,000 --> 00:04:48,759
recetas. De esta forma, podemos recuperar,

112
00:04:43,800 --> 00:04:50,720
en caso de corrupción, este

113
00:04:48,759 --> 00:04:52,960
fichero.

114
00:04:50,720 --> 00:04:56,479
Y, en

115
00:04:52,960 --> 00:04:59,000
principio, poco más hay que decir. Es

116
00:04:56,479 --> 00:05:01,520
un algoritmo que se ha utilizado

117
00:04:59,000 --> 00:05:05,160
en múltiples proyectos y que no ha dado

118
00:05:01,520 --> 00:05:05,160
jamás ningún problema.

